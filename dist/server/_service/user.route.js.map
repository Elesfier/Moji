{"version":3,"sources":["server/_service/user.route.ts"],"names":[],"mappings":";;AACA,mCAAoD;AAEpD,0CAAiD;AAEpC,QAAA,IAAI,GAAG,gBAAM,EAAE,CAAC;AAE7B,YAAI,CAAC,GAAG,CAAC,OAAO,EAAE,qBAAa,CAAC;IAE9B,OAAO,EAAE,EAAE;IACX,MAAM,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE;IAC9B,GAAG,EAAE,CAAC,eAAe,EAAE,SAAS,CAAC;CAElC,CAAC,EAAC,UAAC,OAAgB,EAAE,QAAkB;IAItC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;IACrC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;IAE7B,QAAQ,CAAC,OAAO,CAAC;QACf,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE;YACJ,QAAQ,EAAE,OAAO,CAAC,cAAc,CAAC,CAAC,QAAQ;YAC1C,SAAS,EAAE,OAAO,CAAC,cAAc,CAAC,CAAC,SAAS;YAC5C,QAAQ,EAAE,OAAO,CAAC,cAAc,CAAC,CAAC,QAAQ;YAC1C,OAAO,EAAE,OAAO,CAAC,cAAc,CAAC,CAAC,OAAO;YACxC,aAAa,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,aAAa;YAC5C,OAAO,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO;SACjC;KACF,CAAC,CAAC;AAEL,CAAC,CAAC,CAAC","file":"user.route.js","sourcesContent":["\nimport { Router, Response, Request } from 'express';\nimport { IUser, UserModel } from '../_model/index';\nimport { authorization } from '../_common/index';\n\nexport const user = Router();\n\nuser.get('/user', authorization({\n\n  project: {},\n  global: { mustBeLogged: true },\n  get: ['notifications', 'allowed']\n\n}),(request: Request, response: Response) => {\n\n  //[XXX]: not used\n\n  console.log(request['_currentUser']);\n  console.log(request['_get']);\n\n  response.handler({\n    type: 'USER_DATA',\n    data: {\n      username: request['_currentUser'].username,\n      firstname: request['_currentUser'].firstname,\n      lastname: request['_currentUser'].lastname,\n      setting: request['_currentUser'].setting,\n      notifications: request['_get'].notifications,\n      allowed: request['_get'].allowed\n    }\n  });\n\n});\n"]}