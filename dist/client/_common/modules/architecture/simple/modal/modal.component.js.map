{"version":3,"sources":["client/_common/modules/architecture/simple/modal/modal.component.ts"],"names":[],"mappings":"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","file":"modal.component.js","sourcesContent":["\nimport {\n\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  Directive,\n  QueryList,\n  ContentChildren,\n  ElementRef,\n  HostBinding,\n  ViewChild\n\n} from '@angular/core';\n\nimport { jQuery, SimpleLoaderComponent } from '../../../../index';\n\n@Directive({\n  selector: 'simple-modal-tab',\n  host: { 'class': 'hide' }\n})\nexport class SimpleModalTabDirective\n{\n  public $tab: any;\n\n  @Input('name') name: string;\n\n  constructor (private element: ElementRef)\n  {\n    this.$tab = this.element.nativeElement;\n    this.show();\n  }\n\n  show ()\n  {\n    if (this.$tab.parentElement && this.$tab.parentElement.children[0] == this.$tab)\n      this.$tab.setAttribute('class', 'show');\n  }\n\n  select ($tabHeader: any)\n  {\n    //[FIXME]: selectors to long\n    $tabHeader.parentElement.querySelector(\"[class='active']\").setAttribute(\"class\", \"\");\n    this.$tab.parentElement.querySelector(\"[class='show']\").setAttribute(\"class\", \"hide\");\n    $tabHeader.setAttribute(\"class\", \"active\");\n    this.$tab.setAttribute('class', 'show');\n  }\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'simple-modal',\n  templateUrl: 'modal.component.html',\n  styleUrls: [ 'modal.component.css' ],\n  host: {\n    'class': 'modal fade',\n    'role': 'dialog',\n    'tabindex': '-1'\n  }\n})\nexport class SimpleModalComponent\n{\n  $modal: any = undefined;\n\n  @ContentChildren(SimpleModalTabDirective, {descendants: true})\n  public $tabs: QueryList<SimpleModalTabDirective>;\n\n  @ViewChild('modalLoader')\n  public $loader: SimpleLoaderComponent;\n\n  @Input('title') title: string = '';\n  @Input('z-index') zIndex: number = 0;\n  @Input('data-backdrop') dataBackdrop: string = 'true';\n  @Input('size') size: string = 'normal';\n  @Input('show-close-icon') addCloseIcon: boolean = true;\n  @Input('show-close-button') addCloseButton: boolean = false;\n  @Input('min-height') minHeight: number = 445;\n  @Input('max-height') maxHeight: number = 585;\n  @Input('show-header') showHeader: boolean = true;\n  @Input('on-start-load') onStartLoad: boolean = false;\n\n  //[FIXME]: mozliwosc zamknięcia kiedy sie ładuje modal\n  //[REFACTOR]: moze lepiej zeby simple-loader nie byl w modal\n\n  @HostBinding('style.z-index') get zIndexChanger(): number {\n    return 1050 + this.zIndex;\n  }\n\n  @HostBinding('attr.data-backdrop') get dataBackdropChanger(): string {\n    return this.dataBackdrop;\n  }\n\n  @Output('on-show') onShow = new EventEmitter();\n  @Output('on-hide') onHide = new EventEmitter();\n\n  passData: any = undefined;\n\n  constructor (private element: ElementRef)\n  {\n    this.$modal = jQuery(element.nativeElement);\n\n    this.$modal.on(\"shown.bs.modal\",() => {\n      if (this.onStartLoad) this.$loader.start();\n      this.onShow.emit(this.passData);\n    });\n\n    this.$modal.on(\"hidden.bs.modal\",() => {\n\n      if ((<any>this.$tabs)._results.length != 0)\n      {\n        //[FIXME]: this soluction is not good\n        if (this.$modal.find(\"[class='active']\"))\n          this.$modal.find(\"[class='active']\").attr(\"class\", \"\");\n\n        if (this.$modal.find(\"[class='show']\"))\n          this.$modal.find(\"[class='show']\").attr(\"class\", \"hide\");\n\n        (<any>this.$tabs)._results[0].show()\n\n        this.$modal.find(\".modal-header ul[class='nav nav-tabs'] li:first-child\").attr(\"class\", \"active\");\n      }\n\n      this.$loader.stop();\n      this.onHide.emit(this.passData);\n    });\n  }\n\n  public show (passData: any = undefined)\n  {\n    this.passData = passData;\n    this.$modal.modal('show');\n  }\n\n  public close (passData: any = undefined)\n  {\n    this.passData = passData;\n    this.$modal.modal('hide');\n  }\n}\n"]}