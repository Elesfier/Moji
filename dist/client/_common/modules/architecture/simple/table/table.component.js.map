{"version":3,"sources":["client/_common/modules/architecture/simple/table/table.component.ts"],"names":[],"mappings":"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","file":"table.component.js","sourcesContent":["\nimport {\n\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  AfterViewInit,\n  ViewChild\n\n} from '@angular/core';\n\nimport { HttpService, SimpleLoaderComponent } from '../../../../index';\n\n@Component({\n  moduleId: module.id,\n  selector: 'simple-table',\n  templateUrl: 'table.component.html',\n  styleUrls: [ 'table.component.css' ]\n})\n\nexport class SimpleTableComponent implements AfterViewInit\n{\n  @ViewChild('tableLoader')\n  public $loader: SimpleLoaderComponent;\n\n  @Input('url') url: string = undefined;\n  @Input('events') events: any = {};\n  @Input('min-height') minHeight: number = 420;\n  @Input('max-height') maxHeight: number = 570;\n  @Input('header') header: any[] = undefined;\n  @Input('additionals') additionals: {} = {};\n  @Input('show-header') showHeader: boolean = true;\n  //[FIXME]: binding from single-form\n  @Input('bind') bind: any = undefined;\n  @Input('bind-key') bindKey: string = undefined;\n\n  @Output('after-view-init') afterViewInit = new EventEmitter();\n  @Output('after-view-checked') afterViewChecked = new EventEmitter();\n\n  model: any = null;\n\n  //[REFACTOR]: mega brzydko wygladaja dlugie inline classy w template\n  //[REFACTOR]: moze lepiej zeby simple-loader nie byl w tabeli\n\n  constructor (private httpService: HttpService) {}\n\n  private addExtraColumns (columns: any[]): any[]\n  {\n    let newColumns = [].concat(columns);\n    Object.keys(this.additionals).forEach((key)=>{\n      newColumns.splice(Number(key), 0, this.additionals[key]);\n    });\n    return newColumns;\n  }\n\n  fetch (searchParams: any = {})\n  {\n    //[TODO]: optional zeby dalo sie tez przekazywac nowy url\n    this.$loader.start();\n    this.httpService.get(this.url, searchParams).subscribe(model => {\n      if (this.header && !model.header) model.header = this.header;\n      this.model = model;\n      if (this.bind && this.bindKey) this.bind[this.bindKey] = this.model;\n      this.$loader.stop();\n    });\n  }\n\n  ngAfterViewInit ()\n  {\n    this.afterViewInit.emit(undefined);\n  }\n\n  ngAfterViewChecked ()\n  {\n    this.afterViewChecked.emit(undefined);\n  }\n}\n"]}